<div class="min-h-[148px]"></div>
<div class="fixed inset-x-0 pl-[24px] pr-[24px]" style="z-index:100">
  <div id="menu-blur" class="absolute opacity-0 inset-x-0 top-0 h-full single_hero_background nozoom backdrop-blur-2xl shadow-2xl"></div>
  <div class="relative max-w-[64rem] ml-auto mr-auto">
    {{ partial "partials/header/basic.html" . }}
  </div>
</div>
<script>
  window.addEventListener('scroll', function (e) {
    var scroll = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0;
    var background_blur = document.getElementById('menu-blur');
    background_blur.style.opacity = (scroll / 300);
  });

  // Theme switcher script
  document.addEventListener('DOMContentLoaded', function() {
    const switchers = ['appearance-switcher', 'appearance-switcher-mobile'];
    
    switchers.forEach(function(switcherId) {
      const switcher = document.getElementById(switcherId);
      if (switcher) {
        switcher.addEventListener('click', function() {
          const html = document.documentElement;
          if (html.classList.contains('dark')) {
            html.classList.remove('dark');
            localStorage.setItem('appearance', 'light');
          } else {
            html.classList.add('dark');
            localStorage.setItem('appearance', 'dark');
          }
        });
      }
    });

    // Initialize theme on page load
    const savedTheme = localStorage.getItem('appearance');
    const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const defaultDark = document.documentElement.getAttribute('data-default-appearance') === 'dark';
    
    if (savedTheme) {
      document.documentElement.classList.toggle('dark', savedTheme === 'dark');
    } else if (defaultDark || prefersDark) {
      document.documentElement.classList.add('dark');
    }
  });
</script>